var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _react=_interopRequireDefault(require("react"));var _components=require("../../components");var _queries=require("../../queries");var _reactHooks=require("@apollo/react-hooks");var _theme=require("../../theme");var _state=require("../../state");var _AccountButton=_interopRequireDefault(require("../Account/AccountButton"));var _this=this,_jsxFileName="/Users/kane/Lab/Eros/src/containers/SocialDrawer/index.js";var useStyles=(0,_theme.makeStyles)(function(theme){return{toolbarVertical:{position:'fixed',right:0,top:0,bottom:0,zIndex:10,height:'100%',paddingHorizontal:theme.unit,borderColor:theme.borderColor,overflowX:'hidden'},open:(0,_extends2.default)({backgroundColor:theme.canvas2Opaque,backdropFilter:'blur(12px)'},theme.shadow(8),{width:theme.TOOLBAR_WIDTH_OPEN,borderLeftWidth:theme.borderWidth}),closed:(0,_extends2.default)({backgroundColor:'rgba(0,0,0,0)'},theme.shadow(0),{width:theme.TOOLBAR_WIDTH_CLOSED,alignItems:'center',borderLeftWidth:0}),main:{flex:1,paddingVertical:theme.unit/2},bottom:{paddingVertical:theme.unit*2},iconSize:theme.iconSize};});var SocialDrawer=function SocialDrawer(){var account=(0,_state.useAccount)();var styles=useStyles();var _useQuery=(0,_reactHooks.useQuery)(_queries.SOCIAL_DRAWER),_useQuery$data$Social=_useQuery.data.SocialDrawer,open=_useQuery$data$Social.open,lock=_useQuery$data$Social.lock,client=_useQuery.client;console.log({open:open,lock:lock});var setDrawerOpen=function setDrawerOpen(open){if(lock)return null;client.writeQuery({query:_queries.SOCIAL_DRAWER,data:{SocialDrawer:{open:open,lock:lock,__typename:'SocialDrawer'}}});};var openDrawer=function openDrawer(){return setDrawerOpen(true);};var closeDrawer=function closeDrawer(){return setDrawerOpen(false);};var toggleLock=function toggleLock(){client.writeQuery({query:_queries.SOCIAL_DRAWER,data:{SocialDrawer:{open:open,lock:!lock,__typename:'SocialDrawer'}}});};var hasAccount=account&&account.id;return _react.default.createElement(_components.View,{testID:"SocialDrawer",onMouseEnter:openDrawer,onMouseLeave:closeDrawer,style:[styles.toolbarVertical,open?styles.open:styles.closed],__self:_this,__source:{fileName:_jsxFileName,lineNumber:85,columnNumber:5}},_react.default.createElement(_components.View,{style:{height:56,width:'100%',justifyContent:'center'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:7}},_react.default.createElement(_AccountButton.default,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:92,columnNumber:9}})),_react.default.createElement(_components.View,{style:styles.main,__self:_this,__source:{fileName:_jsxFileName,lineNumber:95,columnNumber:7}},_react.default.createElement(_components.IconButton,{testID:"ContactsButton",name:"ios-contacts-outline",__self:_this,__source:{fileName:_jsxFileName,lineNumber:96,columnNumber:9}})),_react.default.createElement(_components.View,{style:styles.bottom,__self:_this,__source:{fileName:_jsxFileName,lineNumber:99,columnNumber:7}},_react.default.createElement(_components.DrawerLockButton,{lock:lock,onPress:toggleLock,__self:_this,__source:{fileName:_jsxFileName,lineNumber:100,columnNumber:9}})));};var _default=SocialDrawer;exports.default=_default;