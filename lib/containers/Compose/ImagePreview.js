var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireDefault(require("react"));var _ImageBackground=_interopRequireDefault(require("react-native-web/dist/exports/ImageBackground"));var _IconButton=_interopRequireDefault(require("../../components/IconButton"));var _theme=require("../../theme");var _state=require("../../state");var _this=this,_jsxFileName="/Users/kane/Lab/Eros/src/containers/Compose/ImagePreview.js";var ImagePreview=function ImagePreview(_ref){var uri=_ref.uri,aspectRatio=_ref.aspectRatio,_ref$onRemove=_ref.onRemove,onRemove=_ref$onRemove===void 0?function(){return alert('Remove File');}:_ref$onRemove;var _useTheme=(0,_theme.useTheme)(),_useTheme2=(0,_slicedToArray2.default)(_useTheme,1),_useTheme2$=_useTheme2[0],FEED_WIDTH=_useTheme2$.FEED_WIDTH,gutter=_useTheme2$.gutter;var _useDimensions=(0,_state.useDimensions)(),width=_useDimensions.width;var styles=useStyles();var sizeStyles=useMemo(function(){var imageWidth=(width-gutter)*2>=FEED_WIDTH?FEED_WIDTH-gutter*2:width-gutter*2;var imageHeight=Math.floor(imageWidth/(16/9));return{width:imageWidth,height:imageHeight};},[width]);return _react.default.createElement(_ImageBackground.default,{source:{uri:uri},style:[styles.image,sizeStyles],__self:_this,__source:{fileName:_jsxFileName,lineNumber:26,columnNumber:5}},_react.default.createElement(_IconButton.default,{name:"ios-close",onPress:onRemove,style:styles.closeButton,hoverStyle:styles.closeButtonHover,padding:4,size:28,color:"rgba(255,255,255,0.95)",__self:_this,__source:{fileName:_jsxFileName,lineNumber:27,columnNumber:7}}));};var useStyles=(0,_theme.makeStyles)(function(theme){return{container:{alignItems:'center'},image:{borderRadius:theme.unit,overflow:'hidden',alignItems:'flex-end',marginHorizontal:theme.gutter,marginBottom:theme.gutter},closeButton:{backgroundColor:'rgba(0,0,0,0.85)',margin:theme.unit},closeButtonHover:{backgroundColor:'rgba(0,0,0,0.75)',margin:theme.unit}};});var _default=ImagePreview;exports.default=_default;