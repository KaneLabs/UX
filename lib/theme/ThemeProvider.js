var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.ThemeProvider=exports.ThemeContext=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _makeTheme=_interopRequireWildcard(require("./makeTheme"));var _this=this,_jsxFileName="/Users/kane/Lab/Eros/src/theme/ThemeProvider.tsx";var defaultTheme=(0,_makeTheme.default)({mode:_makeTheme.ThemeModes.light});var defaultContext=[defaultTheme,function(){return null;}];var ThemeContext=React.createContext(defaultContext);exports.ThemeContext=ThemeContext;var ThemeProvider=function ThemeProvider(props){var children=props.children,initialScheme=props.initialScheme,_props$theme=props.theme,theme=_props$theme===void 0?{}:_props$theme;var colorScheme=(0,_reactNative.useColorScheme)();console.log("Detected device color scheme: "+colorScheme,"initial color scheme: "+(initialScheme||colorScheme));var _React$useState=React.useState(initialScheme||colorScheme),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),themeMode=_React$useState2[0],setThemeMode=_React$useState2[1];var toggleTheme=React.useCallback(function(){return setThemeMode(function(mode){return mode===_makeTheme.ThemeModes.light?_makeTheme.ThemeModes.dark:_makeTheme.ThemeModes.light;});},[themeMode]);var nextTheme=React.useMemo(function(){var nextTheme=themeMode===_makeTheme.ThemeModes.light?(0,_makeTheme.default)((0,_extends2.default)({mode:_makeTheme.ThemeModes.light},theme)):(0,_makeTheme.default)((0,_extends2.default)({mode:_makeTheme.ThemeModes.dark},theme));return nextTheme;},[themeMode]);var value=[nextTheme,toggleTheme];return React.createElement(ThemeContext.Provider,{value:value,__self:_this,__source:{fileName:_jsxFileName,lineNumber:59,columnNumber:5}},children);};exports.ThemeProvider=ThemeProvider;var _default=ThemeProvider;exports.default=_default;