Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={makeFriendlyUrl:true,formatCreatedAt:true,arrayifyStyle:true,naiveFirstSentenceInText:true,isValidHandle:true,parseCookie:true,selectCookieStringFromContext:true,selectTokenFromContext:true};exports.selectTokenFromContext=exports.selectCookieStringFromContext=exports.parseCookie=exports.isValidHandle=exports.naiveFirstSentenceInText=exports.arrayifyStyle=exports.formatCreatedAt=exports.makeFriendlyUrl=void 0;var _dateFns=require("date-fns");var _content=require("./content");Object.keys(_content).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_content[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _content[key];}});});var _images=require("./images");Object.keys(_images).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_images[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _images[key];}});});var _files=require("./files");Object.keys(_files).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_files[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _files[key];}});});var _greatestCommonDivisor=require("./greatestCommonDivisor");Object.keys(_greatestCommonDivisor).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_greatestCommonDivisor[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _greatestCommonDivisor[key];}});});var _removeToken=require("./removeToken");Object.keys(_removeToken).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_removeToken[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _removeToken[key];}});});var _saveToken=require("./saveToken");Object.keys(_saveToken).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_saveToken[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _saveToken[key];}});});var _validPhoneNumber=require("./validPhoneNumber");Object.keys(_validPhoneNumber).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_validPhoneNumber[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _validPhoneNumber[key];}});});var makeFriendlyUrl=function makeFriendlyUrl(text){console.log('text',text);if(typeof text!=='string'){return'';}return text.replace(/[\s-]+/g,'-').replace(/[^a-zA-Z0-9_-]+/g,'').toLowerCase();};exports.makeFriendlyUrl=makeFriendlyUrl;var formatCreatedAt=function formatCreatedAt(createdAt){return(0,_dateFns.formatDistanceStrict)(parseInt(createdAt,10),new Date());};exports.formatCreatedAt=formatCreatedAt;var arrayifyStyle=function arrayifyStyle(type){if(typeof type==='object'){return[type];}if(Array.isArray(type)){return type;}return[null];};exports.arrayifyStyle=arrayifyStyle;var naiveFirstSentenceInText=function naiveFirstSentenceInText(text){var naiveFirstSentenceRegex=/(^.*?[a-z]{2,}[.!?])\s+\W*[A-Z]/;var match=text.match(naiveFirstSentenceRegex);if(match&&match[0]){return match[0];}return null;};exports.naiveFirstSentenceInText=naiveFirstSentenceInText;var isValidHandle=function isValidHandle(handle){var alphaNumericRegex=/^\w+$/;if(handle.length>69)return false;return alphaNumericRegex.test(handle);};exports.isValidHandle=isValidHandle;var parseCookie=function parseCookie(str){return str.split(';').map(function(v){return v.split('=');}).reduce(function(acc,v){acc[decodeURIComponent(v[0].trim())]=decodeURIComponent(v[1].trim());return acc;},{});};exports.parseCookie=parseCookie;var selectCookieStringFromContext=function selectCookieStringFromContext(ctx){var _ctx$req$headers$cook,_ctx$req,_ctx$req$headers;return(_ctx$req$headers$cook=ctx==null?void 0:(_ctx$req=ctx.req)==null?void 0:(_ctx$req$headers=_ctx$req.headers)==null?void 0:_ctx$req$headers.cookie)!=null?_ctx$req$headers$cook:null;};exports.selectCookieStringFromContext=selectCookieStringFromContext;var selectTokenFromContext=function selectTokenFromContext(ctx){try{var _ref,_parseCookie;var cookieString=selectCookieStringFromContext(ctx);return(_ref=cookieString!=null?cookieString:(_parseCookie=parseCookie(cookieString))==null?void 0:_parseCookie.token)!=null?_ref:null;}catch(error){console.log('selectTokenFromContext error');return null;}};exports.selectTokenFromContext=selectTokenFromContext;