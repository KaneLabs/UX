var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.Post=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _theme=require("../../theme");var _=require("./..");var _router=require("next/router");var _link=_interopRequireDefault(require("next/link"));var _PostHeader=_interopRequireDefault(require("./PostHeader"));var _PostContent=_interopRequireDefault(require("./PostContent"));var _PostButtons=_interopRequireDefault(require("./PostButtons"));var _this=this,_jsxFileName="/Users/kane/Lab/Eros/src/components/Post/Post.web.js";var selectPostUrl=function selectPostUrl(_ref){var handle=_ref.handle,friendlyUrl=_ref.friendlyUrl,id=_ref.id;var postUrl=friendlyUrl||id;return"/@"+handle+"/"+postUrl;};var Post=function Post(_ref2){var id=_ref2.id,persona=_ref2.persona,content=_ref2.content,media=_ref2.media,createdAt=_ref2.createdAt,friendlyUrl=_ref2.friendlyUrl,likes=_ref2.likes,liked=_ref2.liked,_ref2$mobile=_ref2.mobile,mobile=_ref2$mobile===void 0?false:_ref2$mobile,width=_ref2.width,props=(0,_objectWithoutProperties2.default)(_ref2,["id","persona","content","media","createdAt","friendlyUrl","likes","liked","mobile","width"]);var router=(0,_router.useRouter)();var handle=persona&&persona.handle;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2.default)(_useState,2),hovered=_useState2[0],setHover=_useState2[1];var onMouseEnter=function onMouseEnter(){return setHover(true);};var onMouseLeave=function onMouseLeave(){return setHover(false);};var postUrl=selectPostUrl({handle:handle,friendlyUrl:friendlyUrl,id:id});var onPress=function onPress(e){console.log({id:id,friendlyUrl:friendlyUrl});router.push(""+postUrl);};console.log('content',content);return _react.default.createElement(_link.default,{passHref:true,href:"/[creator]/[post]",as:postUrl,__self:_this,__source:{fileName:_jsxFileName,lineNumber:45,columnNumber:5}},_react.default.createElement(_.View,{onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,style:[styles.post,{width:width},hovered&&styles.hovered],__self:_this,__source:{fileName:_jsxFileName,lineNumber:46,columnNumber:7}},_react.default.createElement(_PostHeader.default,(0,_extends2.default)({},persona,{createdAt:createdAt,mobile:mobile,__self:_this,__source:{fileName:_jsxFileName,lineNumber:50,columnNumber:9}})),_react.default.createElement(_PostContent.default,{content:content,width:width,mobile:mobile,__self:_this,__source:{fileName:_jsxFileName,lineNumber:51,columnNumber:9}}),_react.default.createElement(_PostButtons.default,{postId:id,likes:likes,liked:liked,mobile:mobile,__self:_this,__source:{fileName:_jsxFileName,lineNumber:52,columnNumber:9}}),_react.default.createElement(_.Line,{style:{width:width-32,marginHorizontal:16},__self:_this,__source:{fileName:_jsxFileName,lineNumber:53,columnNumber:9}})));};exports.Post=Post;var useStyles=(0,_theme.makeStyles)(function(theme){return{post:{cursor:'pointer',backgroundColor:'transparent',width:'100%',maxWidth:theme.FEED_WIDTH,borderWidth:0,borderRadius:0},hovered:{backgroundColor:theme.textColor.faint}};});var _default=Post;exports.default=_default;